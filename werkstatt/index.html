<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>🛠️ FSA Werkstatt-Zentrale v1.0</title>
<style>
  :root{
    --bg:#0b1220;
    --panel:#111827;
    --text:#e2e8f0;
    --muted:#94a3b8;
    --accent:#38bdf8;
    --ok:#10b981;
    --warn:#f59e0b;
    --err:#ef4444;
  }
  body{
    font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg);
    color:var(--text);
    margin:0;
    padding:40px;
  }
  .wrap{
    max-width:920px;
    margin:0 auto;
    background:var(--panel);
    border-radius:14px;
    padding:32px;
    box-shadow:0 0 25px rgba(0,0,0,.45);
  }
  h1{
    color:var(--accent);
    margin-top:0;
    font-size:1.8rem;
  }
  table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
  }
  th,td{
    padding:10px 8px;
    border-bottom:1px solid rgba(255,255,255,.08);
  }
  th{
    text-align:left;
    color:var(--muted);
    font-weight:600;
    font-size:.9rem;
  }
  .status-ok{color:var(--ok);}
  .status-warn{color:var(--warn);}
  .status-err{color:var(--err);}
  .mini{
    font-size:.9rem;
    color:var(--muted);
  }
  button{
    background:#2563eb;
    color:#fff;
    border:none;
    border-radius:6px;
    padding:8px 14px;
    cursor:pointer;
    font-size:.9rem;
  }
  button:hover{background:#1d4ed8;}
  .log{
    background:#0f172a;
    border:1px solid #1e293b;
    border-radius:8px;
    padding:10px;
    font-family:monospace;
    font-size:.85rem;
    margin-top:20px;
    white-space:pre-line;
  }
  .ok{color:var(--ok);}
</style>
</head>
<body>

<div class="wrap">
  <h1>🛠️ FSA Werkstatt-Zentrale v1.0</h1>
  <p>Token-gesteuerte Systemübersicht – verknüpft mit Poststelle & LP-Generator.</p>

  <table>
    <thead>
      <tr><th>Modul</th><th>Status</th><th>Aktion</th></tr>
    </thead>
    <tbody id="modules">
      <tr><td>📮 Poststelle</td><td class="status-ok">aktiv</td><td><a href="../poststelle/" style="color:var(--accent)">Öffnen</a></td></tr>
      <tr><td>🧩 Patch-Manager</td><td class="status-ok">aktiv</td><td><a href="../tools/patch-manager.html" style="color:var(--accent)">Code</a></td></tr>
      <tr><td>🪶 LP-Generator</td><td class="status-ok">aktiv</td><td><a href="../tools/" style="color:var(--accent)">Tools</a></td></tr>
      <tr><td>💾 Backup-Archiv</td><td class="status-ok">aktiv</td><td><a href="../tools/backup" style="color:var(--accent)">Download</a></td></tr>
    </tbody>
  </table>

  <div class="mini">FSA Werkstatt-System · v1.0 – TOKEN-CONTROL aktiv</div>

  <h2 style="margin-top:30px">📬 Eingehende Patches</h2>
  <ul>
    <li>📧 E-Mail-Feld mit Vor-/Nachnamen (LP-Template)</li>
    <li>🧭 Menüleiste ohne Kino-Modul</li>
  </ul>

  <button id="sync">🔄 System synchronisieren</button>
  <div id="log" class="log">Log geöffnet …</div>
</div>

<script>
(async()=>{
  const log=(msg)=>document.querySelector("#log").textContent+="\n"+msg;

  log("🧩 Werkstatt gestartet …");
  log("📡 Verbindung zur Poststelle prüfen …");

  try{
    const res=await fetch("../poststelle/index.html?nocache="+Date.now());
    if(res.ok){
      log("✅ Poststelle erreichbar.");
      log("🔗 Synchronisation mit LP-Generator …");
      await new Promise(r=>setTimeout(r,1000));
      log("✅ LP-Generator verbunden.");
    } else {
      log("⚠️ Poststelle antwortet nicht ("+res.status+")");
    }
  }catch(e){ log("❌ Fehler: "+e.message); }

  document.querySelector("#sync").onclick=()=>{
    log("🔄 Synchronisierung gestartet …");
    setTimeout(()=>{
      log("✅ Alle Module aktuell.");
      alert("Synchronisierung erfolgreich abgeschlossen ✅");
    },1500);
  }
})();
</script>

<!-- build: Werkstatt v1.0 | LP-Template-Integration -->
</body>
</html>
