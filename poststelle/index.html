<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ğŸ“¬ FSA Poststelle v2.8.4 â€“ Consolidated Release</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,sans-serif;background:#0b1220;color:#e2e8f0;margin:0;padding:40px;text-align:center}
  h1{font-size:1.8rem;color:#38bdf8;margin-bottom:10px}
  p{color:#94a3b8;margin-bottom:30px}
  input{padding:10px 12px;border-radius:6px;border:1px solid #1e293b;background:#111827;color:#fff;width:240px}
  button{background:#2563eb;color:#fff;border:none;padding:10px 18px;border-radius:6px;font-weight:600;cursor:pointer;margin-left:8px}
  button:hover{background:#1e40af}
  table{width:100%;max-width:940px;margin:30px auto;border-collapse:collapse;text-align:left}
  th,td{padding:10px;border-bottom:1px solid #1e293b}
  th{background:#1e293b}
  tr:hover{background:#1e293b66}
  .ok{color:#10b981;font-weight:600}
  .warn{color:#f59e0b;font-weight:600}
  .err{color:#ef4444;font-weight:600}
  footer{margin-top:30px;font-size:.8rem;color:#64748b}
  .small{font-size:.85rem;color:#a1a1aa}
</style>
</head>
<body>
<h1>ğŸ“¬ FSA Poststelle v2.8.4</h1>
<p>Globale Update- & Distributionszentrale Â· Build Consolidated Â· Autonomes System</p>

<!-- TOKEN -->
<div id="tokenArea">
  <input type="password" id="tokenInput" placeholder="Token eingeben...">
  <button onclick="startSystem()">ğŸ”‘ Aktivieren</button>
</div>

<!-- STATUS -->
<table id="systemTable" style="display:none;">
  <tr><th>Modul</th><th>Status</th><th>Letztes Update</th><th>Aktion</th></tr>
  <tr data-url="https://adler-fsa.github.io/Lp-Generator/werkstatt/">
    <td>ğŸ§° Werkstatt</td><td class="status">â³</td><td class="time">â€“</td>
    <td><a href="#" target="_blank" class="btn">Ã–ffnen</a></td>
  </tr>
  <tr data-url="https://adler-fsa.github.io/Lp-Generator/tools/">
    <td>âš™ï¸ Tools</td><td class="status">â³</td><td class="time">â€“</td>
    <td><a href="#" target="_blank" class="btn">Ã–ffnen</a></td>
  </tr>
  <tr data-url="https://adler-fsa.github.io/Lp-Generator/lp-template.html">
    <td>ğŸª¶ LP-Template</td><td class="status">â³</td><td class="time">â€“</td>
    <td><a href="#" target="_blank" class="btn">Ã–ffnen</a></td>
  </tr>
  <tr data-url="https://adler-fsa.github.io/Lp-Generator/FSA-whitelabel.html">
    <td>ğŸŒ WhiteLabel System</td><td class="status">â³</td><td class="time">â€“</td>
    <td><a href="#" target="_blank" class="btn">Ã–ffnen</a></td>
  </tr>
  <tr data-url="https://adler-fsa.github.io/Lp-Generator/manifest.txt">
    <td>ğŸ“œ Manifest & Vision</td><td class="status">â³</td><td class="time">â€“</td>
    <td><a href="#" target="_blank" class="btn">Ã–ffnen</a></td>
  </tr>
</table>

<footer>
  FSA Poststelle v2.8.4 Â· Consolidated Build Â· Â© Akademie der finanziellen SouverÃ¤nitÃ¤t<br>
  <span class="small">Autonomes Update-System â€“ Web 4.0 Proof of Vision</span><br>
  <button id="infoBtn" style="margin-top:8px;padding:6px 12px;border:none;border-radius:6px;background:#334155;color:#e2e8f0;cursor:pointer;">â„¹ï¸ Info</button>
</footer>

<!-- INFO-PANEL -->
<div id="infoPanel" style="display:none;max-width:860px;margin:30px auto;padding:18px;background:#1e293b;color:#f1f5f9;border-radius:8px;text-align:left;font-size:.95rem;line-height:1.6;">
  <h3 style="margin-top:0;color:#38bdf8;">Wie die Poststelle funktioniert</h3>
  <p>Die Poststelle ist das Herz des FSA-Systems. Sie liefert Updates an alle Module â€“ Werkstatt, Tools, Manifest und Templates â€“ und hÃ¤lt sie synchron.</p>
  <p>Sie kann jedoch <i>nicht sich selbst aktualisieren</i>, wÃ¤hrend sie lÃ¤uft. Das liegt daran, dass GitHub Pages statische Dateien ausliefert und keine Seite ihre eigene Datei Ã¼berschreiben darf. Darum wird die Poststelle von dir manuell ausgetauscht â€“ danach aktualisiert sie alle anderen Dateien selbstÃ¤ndig.</p>
  <p>Man kann es sich so vorstellen: Die Poststelle ist ein Postbote â€“ er kann alle Pakete ausliefern, aber nicht seine eigene Uniform nÃ¤hen, wÃ¤hrend er sie trÃ¤gt. Wenn du ihm eine neue Uniform gibst (also die Datei tauschst), macht er danach wieder seinen Job â€“ schneller und sicherer als zuvor.</p>
  <p><b>Aufbau:</b><br>
      ğŸ“¬ Poststelle â†’ liefert AuftrÃ¤ge an die Werkstatt und Tools<br>
      ğŸ§° Werkstatt â†’ fÃ¼hrt Patches aus, schreibt HTML und JS<br>
      âš™ï¸ Tools â†’ stellen Unterfunktionen fÃ¼r Generator und Module bereit<br>
      ğŸŒ GitHub Pages â†’ verÃ¶ffentlicht die fertigen Dateien weltweit</p>
</div>

<script>
let globalToken="";
async function startSystem(){
  const t=document.getElementById("tokenInput").value.trim();
  if(!t){alert("Bitte gÃ¼ltigen Token eingeben.");return;}
  globalToken=t;
  document.getElementById("tokenArea").style.display="none";
  document.getElementById("systemTable").style.display="table";
  refreshAll();
  setInterval(refreshAll,90000);
}
async function refreshAll(){
  document.querySelectorAll("#systemTable tr[data-url]").forEach(r=>checkStatus(r));
}
async function checkStatus(r){
  const u=r.dataset.url;
  const s=r.querySelector(".status");
  const time=r.querySelector(".time");
  const link=r.querySelector(".btn");
  try{
    const res=await fetch(u+"?nocache="+Date.now(),{method:"HEAD"});
    if(res.ok || res.type==="opaque"){s.textContent="ğŸŸ¢ aktiv";s.className="status ok";}
    else{s.textContent="ğŸŸ¡ geprÃ¼ft";s.className="status warn";}
    link.href=u;time.textContent=new Date().toLocaleString("de-DE");
  }catch(e){
    s.textContent="ğŸ”´ offline";s.className="status err";
  }
}
document.getElementById("infoBtn").onclick=()=>{
  const p=document.getElementById("infoPanel");
  p.style.display=(p.style.display==="none")?"block":"none";
};
</script>
</body>
</html>
