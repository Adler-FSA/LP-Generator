<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>S-O-S Gesetz v1.3 ‚Äì In Stein gemei√üelt</title>
<link rel="icon" href="../media/sos-siegel-adler.png" />
<style>
  :root{
    --bg:#0b0f16;
    --gold:#f6c95c;
    --gold-d:#c79b2d;
    --gold-ghost:#f6c95c33;
    --ink:#e9eef7;
    --muted:#9bb0c9;
    --line:#1f2b44;
    --card:#101827cc;
    --radius:16px;
    --shadow:0 24px 80px rgba(0,0,0,.45);
  }

  html,body{height:100%;}
  body{
    margin:0; color:var(--ink);
    font:15px/1.55 system-ui, Segoe UI, Roboto, Inter, Arial, sans-serif;
    background:var(--bg) url("../media/stein-tafel-textur.jpg") center/cover fixed no-repeat;
    backdrop-filter: blur(0.2px);
  }

  /* Goldener Glow Typo */
  .gold{
    color:var(--gold);
    text-shadow:
      0 0 1px #000,
      0 0 10px var(--gold-ghost),
      0 0 22px var(--gold-ghost);
  }

  /* Rahmen/Canvas */
  .wrap{
    max-width:1100px;
    margin:52px auto 80px;
    padding:24px;
    background:linear-gradient(180deg, #0e1625aa, #0b1220aa);
    border:1px solid #24334f;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }

  h1{
    margin:0 0 22px;
    font-weight:800; letter-spacing:.5px;
    text-align:center;
    font-size: clamp(28px, 3.2vw, 40px);
  }

  .lead{
    text-align:center; margin:-6px 0 24px;
    color:var(--muted); font-size:14px;
  }

  /* Musik & Siegel */
  .hud{
    position: fixed; right:20px; top:20px;
    display:flex; flex-direction:column; gap:12px; z-index:10;
  }

  .badge{
    width:120px; height:120px; border-radius:14px;
    background:#0d1321cc; border:1px solid #22365d; position:relative;
    display:grid; place-items:center;
    box-shadow: 0 12px 40px rgba(0,0,0,.35), inset 0 0 0 1px #18223a;
  }
  .badge img{
    width:78%; filter: drop-shadow(0 3px 12px rgba(0,0,0,.45));
    animation: sealPulse 3.2s ease-in-out infinite;
  }
  @keyframes sealPulse {
    0%   { transform: scale(1);    filter: drop-shadow(0 0 12px rgba(246,201,92,.20)); }
    50%  { transform: scale(1.02); filter: drop-shadow(0 0 22px rgba(246,201,92,.35)); }
    100% { transform: scale(1);    filter: drop-shadow(0 0 12px rgba(246,201,92,.20)); }
  }

  .music-btn{
    border:none; cursor:pointer; border-radius:999px;
    padding:10px 14px; font-weight:700; letter-spacing:.2px;
    color:#0c1424; background:linear-gradient(180deg, var(--gold), var(--gold-d));
    box-shadow: 0 10px 32px rgba(246,201,92,.25), inset 0 -2px 0 #9c7420;
  }
  .music-btn:hover{ filter:brightness(1.05); transform:translateY(-1px); }
  .music-btn:active{ transform:translateY(0); }

  /* Paragraphen-Liste */
  .law{
    background: #0e1626b3;
    border:1px solid #203454;
    border-radius:14px;
    margin:16px 0;
    overflow:hidden;
  }
  .law .head{
    display:flex; align-items:center; gap:16px;
    padding:16px 18px;
    cursor:pointer; user-select:none;
  }
  .law .nr{
    min-width:64px; font-weight:900;
    font-size:22px; letter-spacing:.5px;
    color:var(--gold);
    text-shadow: 0 0 10px var(--gold-ghost), 0 0 22px var(--gold-ghost);
    opacity:.92;
  }
  .law .title{
    font-weight:750; font-size:18px;
  }
  .law .body{
    border-top:1px solid #22365a;
    padding:14px 18px 18px; display:none;
    background: radial-gradient(1200px 300px at 50% -20%, #152036bb 0%, #0e1526b0 60%, #0b1220aa 100%);
  }
  .law.open .body{ display:block; }
  .law .more{
    margin-top:10px; font-weight:650; color:var(--gold);
    text-decoration:underline dotted; cursor:pointer;
  }

  /* Mei√üel-Animation (Schrift erscheint ‚Äûgehauen‚Äú) */
  .chisel{
    --d: 650ms; position:relative; display:inline-block;
  }
  .chisel span{
    display:inline-block; opacity:0; transform:translateY(8px);
    animation: chip var(--d) cubic-bezier(.2,.7,.2,1) forwards;
  }
  .chisel span:nth-child(odd){ animation-delay:100ms; }
  .chisel span:nth-child(even){ animation-delay:220ms; }
  @keyframes chip{
    0%   { opacity:0; transform:translateY(8px); text-shadow:none; }
    45%  { opacity:.6; text-shadow:0 0 0 var(--gold); }
    100% { opacity:1; transform:translateY(0);
           text-shadow: 0 0 10px var(--gold-ghost), 0 0 22px var(--gold-ghost); }
  }

  .foot{
    margin-top:26px; text-align:center; color:var(--muted); font-size:12px;
  }

  /* schmale Screens */
  @media (max-width:720px){
    .wrap{ margin:22px 12px 60px; padding:14px; }
    .badge{ width:92px;height:92px; }
    .law .nr{ min-width:52px; font-size:19px; }
    .law .title{ font-size:16px; }
  }
</style>
</head>
<body>

  <!-- HUD: Siegel + Musik -->
  <div class="hud">
    <div class="badge" title="S-O-S Adler Siegel">
      <img src="../media/sos-siegel-adler.png" alt="S-O-S Siegel">
    </div>
    <button id="musicToggle" class="music-btn" type="button">üéµ Musik starten</button>
    <audio id="bgm" preload="auto" loop>
      <source src="../media/intro-theme.mp3" type="audio/mpeg" />
    </audio>
  </div>

  <main class="wrap">
    <h1 class="gold chisel" id="headline"></h1>
    <p class="lead">Verbindlicher TPS-Standard f√ºr Aufbau, Compliance, Werkstatt, Poststelle, LP-Generator & White-Label.</p>

    <div id="laws"></div>

    <p class="foot">¬© 2025 FSA ¬∑ S-O-S Gesetz v1.3 ¬∑ ‚ÄûIn Stein gemei√üelt‚Äú</p>
  </main>

<script>
/* -----------------------------
   Musiksteuerung
--------------------------------*/
const bgm = document.getElementById('bgm');
const musicToggle = document.getElementById('musicToggle');
let playing = false;

musicToggle.addEventListener('click', async () => {
  try{
    if(!playing){
      await bgm.play();
      playing = true; musicToggle.textContent = '‚è∏ Musik pausieren';
    }else{
      bgm.pause(); playing = false; musicToggle.textContent = 'üéµ Musik starten';
    }
  }catch(e){
    console.warn('Audio konnte nicht gestartet werden:', e.message);
  }
});

/* -----------------------------
   Headline ‚Äûmei√üeln‚Äú
--------------------------------*/
const titleText = 'S-O-S Gesetz v1.3 ‚Äì ‚ÄûIn Stein gemei√üelt‚Äú';
const headline = document.getElementById('headline');
headline.innerHTML = [...titleText].map(ch => `<span>${ch === ' ' ? '&nbsp;' : ch}</span>`).join('');

/* -----------------------------
   50 Paragraphen (Titel + Volltext)
   ‚Äî kompakter Volltext, juristisch/technisch pr√§zise
--------------------------------*/
const PARAGRAPHS = [
  {t:'HTML-Segmentierung & Bl√∂cke', b:'Alle HTML-Seiten werden in klar abgegrenzte Inhaltsbl√∂cke zerlegt. Jeder Block besitzt eine eigene JS-Datei und kann unabh√§ngig versioniert, ersetzt und gerendert werden, ohne das Template zu verletzen.'},
  {t:'Eindeutige Zuordnung', b:'Jede JS-Datei tr√§gt eine stabile ID/Hash, die eindeutig auf ihre Ziel-HTML verweist. Damit sind Herkunft, Austausch und Compliance-Pr√ºfungen l√ºckenlos nachvollziehbar.'},
  {t:'TPS Werkstatt-Prinzip', b:'Die Werkstatt tauscht ausschlie√ülich ganze Bl√∂cke aus. Layout, Template-Rahmen und Systemlogik bleiben unantastbar. √Ñnderungen erfolgen nur √ºber freigegebene Slots.'},
  {t:'Gesperrte Kernbereiche', b:'System- und Template-Dateien (Poststelle, Werkstatt, LP-Template, Tools) sind schreibgesch√ºtzt. Eingriffe erfolgen nur √ºber definierte, auditierte Schnittstellen.'},
  {t:'Mehrsprachigkeit', b:'Pflichtsprachen sind DE und EN; bis zu 150 weitere Sprachen optional. Sprachpakete werden modulbasiert geladen und k√∂nnen einzeln aktualisiert werden.'},
  {t:'WL-Seiten automatisch gesetzeskonform', b:'White-Label-Seiten entstehen ausschlie√ülich via TPS-Prozess. Dabei erzwingt die Poststelle die Einhaltung aller Compliance-Regeln und Sperrlisten.'},
  {t:'Fallback-Versionen', b:'Nach jedem Release wird eine reine HTML-Fallback-Version erzeugt und abgelegt, um bei St√∂rungen sofort lauff√§hig zu bleiben.'},
  {t:'Compliance-Ampel', b:'Jede Seite tr√§gt im Footer eine rot/gelb/gr√ºn-Ampel. Sie zeigt den aktuellen Regelstatus (inkl. Zeitstempel) und verweist auf Audit-Nachweise.'},
  {t:'Mediensteuerung via MLC', b:'Videos, Slideshows, Audio und Laufb√§nder werden ausschlie√ülich √ºber das Media-Launch-Control (MLC) verwaltet. Inhalte sind versioniert und auditierbar.'},
  {t:'Auto-Register in Werkstatt', b:'Nach Deploy werden neue Seiten automatisch in der Werkstatt gelistet, inkl. Block-Inventar, Versionsstand und Schnellzugriffen.'},

  {t:'Pre-Deploy Compliance-Check', b:'Vor jedem Deploy pr√ºft die Poststelle √Ñnderungen gegen dieses Gesetz. Deploys ohne gr√ºnen Status sind blockiert.'},
  {t:'Token-Pflicht & Auth', b:'Jede Ver√§nderung erfordert ein g√ºltiges Token und namentliche Zuordnung. Ereignisse werden signiert und protokolliert.'},
  {t:'CI/CD-Konformit√§t', b:'Build- und Deploy-Pipelines sind versioniert. Nur gepr√ºfte Pipelines d√ºrfen Seiten in Produktion bringen.'},
  {t:'Versionierung & Rollback', b:'Alle Bl√∂cke und Seiten sind semantisch versioniert (MAJOR.MINOR.PATCH). Rollbacks sind jederzeit m√∂glich.'},
  {t:'√Ñnderungsprotokoll', b:'Jeder Blockwechsel erzeugt ein maschinenlesbares Changelog (Wer? Was? Wann? Warum?) inkl. Referenz auf Diskussion/PR.'},
  {t:'Cache-Bypass & Freshness', b:'Seiten h√§ngen Block-Hashes als Cache-Buster an, um veraltete Browser-Caches automatisch zu umgehen.'},
  {t:'Datenschutz (DSGVO)', b:'Keine nutzerbezogenen Daten in LocalStorage/Tracking. Pers√∂nliche Daten nur nach ausdr√ºcklicher Zustimmung und zweckgebunden.'},
  {t:'Sicherheitsheader', b:'Empfohlene HTTP-Header (CSP, X-Frame-Options, Referrer-Policy, HSTS) sind Teil des Standard-Deploys.'},
  {t:'Integrit√§tspr√ºfung', b:'Blocksummen (SHA-256) k√∂nnen optional mit ausgeliefert werden. Der Client validiert auf Wunsch die Integrit√§t vor der Ausf√ºhrung.'},
  {t:'Barrierefreiheit', b:'Semantik, Kontraste, Tastaturbedienung und ARIA-Labels sind Bestandteil der Review-Checkliste.'},

  {t:'LP-Template (3-Ebenen-Logik)', b:'Die LP trennt strikt Template, Content-Bl√∂cke und Brand-Layer. Branding greift nur √ºber definierte Slots ‚Äì Core bleibt unver√§ndert.'},
  {t:'Unikats-URL & Registry', b:'Jede LP erh√§lt eine eindeutige URL/ID. Eine zentrale Registry verwaltet Zust√§ndigkeiten, Status und Historie.'},
  {t:'√úbergabe an Partner', b:'Brandingfelder (Vorname, Nachname, Mail, optional Handy) + Profilbild + Begr√º√üungs-Audio. Nach Freigabe Ampel: rot‚Üígelb (pending)‚Üígr√ºn.'},
  {t:'Profil- & Audio-Policy', b:'Zugelassene Formate: PNG/JPG (Profilbild), MP3/M4A (Audio). Automatische Gr√∂√üenpr√ºfung, Missbrauchsfilter und sichere Pfade.'},
  {t:'Social-Share-Suite', b:'Teilen-Buttons (kontextsensitiv, DSGVO-freundlich) schweben layout-konform. Branding-Kontext wird in Share-Links ber√ºcksichtigt.'},
  {t:'Onboarding-Kurzweg', b:'Partner kann per pers√∂nlicher LP-URL den Zugang initialisieren. Danach setzt der Nutzer sein eigenes Passwort (Zero-Knowledge-Flow).'},
  {t:'Passwort-Reset', b:'Vergessen? Sicherer, tokenbasierter Reset-Prozess mit G√ºltigkeitsfenster, IP-Rate-Limit und Protokollierung.'},
  {t:'Qualit√§tssicherung Onboarding', b:'Jeder Onboarding-Schritt ist instrumentiert (ohne Tracking-Profiling). Abbr√ºche werden anonym statistisch erfasst, um UX zu verbessern.'},
  {t:'Netzwerk-√úbersicht (Partner)', b:'Strukturbaum bis Ebene 20 mit Status (rot/gelb/gr√ºn), Bild+Name, LP-Link. E-Mail-Pool ist gesch√ºtzt; Events k√∂nnen rechtssicher angek√ºndigt werden.'},
  {t:'Event-& Kino-Einladungen', b:'Gepr√ºfte Broadcasts an best√§tigte Kontakte. Double-Opt-In, Abmeldelink, Rate-Limit, Missbrauchsschutz.'},

  {t:'MLC-Moderation (Video/Bild)', b:'WL/Partner laden Medien ins MLC. Ein inhaltsbasierter Filter (z.B. KI-Assist) pr√ºft Ethik/Compliance und blockt Verst√∂√üe.'},
  {t:'Automatisierte Content-Checks', b:'Texte/Medien laufen durch Pr√ºfroutinen (Sprache, Hate, NSFW). Flagged Items landen in die manuelle Moderation.'},
  {t:'Whitelist-Provider', b:'Video-Provider (z. B. YouTube, Vimeo) sind whitelisting-basiert; Einbettungen nutzen Privacy-Modi.'},
  {t:'Rate-Limit & Quoten', b:'Upload-, Vorschau- und Publish-Aktionen sind quotiert, um Missbrauch/Spam zu verhindern.'},
  {t:'Audit-Trails MLC', b:'Jeder Medienwechsel wird beweissicher protokolliert (Uploader, Zeit, Quellenhash, Freigabeinstanz).'},
  {t:'Rollback Medien-Slots', b:'Bei Regelversto√ü l√§sst sich jede Medienposition auf die letzte Freigabe zur√ºckstellen.'},
  {t:'Dynamic Playlist', b:'Rotationslogik (sequentiell, random) wird nur aus freigegebenen Eintr√§gen gespeist.'},
  {t:'Brand-Safe Frames', b:'Overlays/Player-UI sind markenkonform; aggressive externe Overlays sind verboten.'},
  {t:'Sichere Pfade', b:'Public-Assets liegen unter /media mit restriktiven Regeln. Keine Ausf√ºhrung von Fremd-Scripts √ºber Medienpfade.'},
  {t:'Telemetry Light', b:'Nur technisch notwendige, anonyme Metriken zur Stabilit√§t ‚Äì keine Nutzerprofilbildung.'},

  {t:'Werkstatt-& Poststelle-Schutz', b:'Beide Systeme unterliegen Sperrlisten, Token-Pflicht und 4-Augen-Prinzip f√ºr sensible Aktionen.'},
  {t:'Diagnose & Self-Check', b:'Eine Diagnose-Seite pr√ºft Slots, Pfade, Token-Status, Registry-Eintr√§ge, Cache-Stempel und Build-Status.'},
  {t:'Build-Status-Integration', b:'Live-Abfrage von GitHub Actions (mit Token). Poststelle zeigt ‚Äûlaufend / erfolgreich / fehlgeschlagen‚Äú samt Zeit.'},
  {t:'Commit-Vorlagen', b:'Standardisierte Commit-Messages (feat/fix/docs/chore) werden von der UI vorgeschlagen.'},
  {t:'Auto-Index & Sitemaps', b:'Neue Seiten flie√üen automatisch in Indizes/Sitemaps; tote Links werden periodisch entfernt.'},
  {t:'Security Response', b:'Sicherheitsfixes k√∂nnen ohne Content-Freeze ausgerollt werden (Hotfix-Lane mit minimalem Scope).'},
  {t:'Legal & Imprint', b:'Jede Seite enth√§lt konsistente Links zu Impressum, Datenschutz, AGB; rechtliche Texte sind versioniert.'},
  {t:'Export & Nachvollziehbarkeit', b:'Releases k√∂nnen als Paket (Quellen, Fallback, Checksummen, Protokolle) exportiert und archiviert werden.'},
  {t:'Schulungsintegration', b:'Lernmodule + Pr√ºfungen (mit Fortschritt) steuern Freigaben f√ºr erweiterte Funktionen (z. B. Branding).'},
  {t:'Erweiterbarkeit', b:'Neue Paragraphen werden als Addenda (v1.3.a, v1.3.b ‚Ä¶) erg√§nzt. Der Client rendert sie automatisch, ohne Template-Bruch.'}
];

/* -----------------------------
   Renderer
--------------------------------*/
const lawsEl = document.getElementById('laws');

function chiselize(text){
  return `<span class="chisel">${[...text].map(ch=>`<span>${ch===' ' ? '&nbsp;' : ch}</span>`).join('')}</span>`;
}

function render(){
  const frag = document.createDocumentFragment();
  PARAGRAPHS.forEach((p, i) => {
    const law = document.createElement('section');
    law.className = 'law';

    const head = document.createElement('div');
    head.className = 'head';
    head.innerHTML = `
      <div class="nr">¬ß${i+1}</div>
      <div class="title gold">${chiselize(p.t)}</div>
    `;

    const body = document.createElement('div');
    body.className = 'body';
    body.innerHTML = `
      <div>${p.b}</div>
      <div class="more" role="button" tabindex="0">Weniger</div>
    `;

    head.addEventListener('click', () => {
      law.classList.toggle('open');
      if(law.classList.contains('open')){
        body.querySelector('.more').textContent = 'Weniger';
      }else{
        body.querySelector('.more').textContent = 'Mehr lesen';
      }
    });
    body.querySelector('.more').addEventListener('click', () => head.click());

    law.appendChild(head);
    law.appendChild(body);
    frag.appendChild(law);
  });
  lawsEl.innerHTML = '';
  lawsEl.appendChild(frag);
}

render();
</script>
</body>
</html>
